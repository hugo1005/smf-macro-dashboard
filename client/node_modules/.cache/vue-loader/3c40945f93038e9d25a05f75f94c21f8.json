{"remainingRequest":"/Users/hugo/Dropbox/hugo_documents_folder/SMF_RISK/dashboard/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hugo/Dropbox/hugo_documents_folder/SMF_RISK/dashboard/client/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hugo/Dropbox/hugo_documents_folder/SMF_RISK/dashboard/client/src/App.vue","mtime":1610544266288},{"path":"/Users/hugo/Dropbox/hugo_documents_folder/SMF_RISK/dashboard/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hugo/Dropbox/hugo_documents_folder/SMF_RISK/dashboard/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hugo/Dropbox/hugo_documents_folder/SMF_RISK/dashboard/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAiLi9jb21wb25lbnRzL0xpbmVDaGFydC52dWUiOwppbXBvcnQgVHJlZUNoYXJ0IGZyb20gIi4vY29tcG9uZW50cy9UcmVlQ2hhcnQudnVlIjsKaW1wb3J0IENvcnJlbGF0aW9uUGxvdCBmcm9tICIuL2NvbXBvbmVudHMvQ29ycmVsYXRpb25QbG90LnZ1ZSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCAqIGFzIGQzIGZyb20gImQzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBjb21wb25lbnRzOiB7CiAgICBMaW5lQ2hhcnQsCiAgICBUcmVlQ2hhcnQsCiAgICBDb3JyZWxhdGlvblBsb3QKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiB7fSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgcmlzazoge30sCiAgICAgIGxvYWRpbmdfcmlzazogdHJ1ZSwKICAgICAgZWZmZWN0czogWydTZWxlY3Rpb24gRWZmZWN0JywnQWxsb2NhdGlvbiBFZmZlY3QnLCdUb3RhbCBFZmZlY3QnXSwKICAgICAgZWZmZWN0c19tYXA6IHsnU2VsZWN0aW9uIEVmZmVjdCc6J1NlbGVjdGlvbiBFZmZlY3QnLCdBbGxvY2F0aW9uIEVmZmVjdCc6J0FsbG9jYXRpb24gRWZmZWN0JywnVG90YWwgRWZmZWN0JzonT3V0cGVyZm9ybWFuY2UnfSwKICAgICAgcmVnaW9uczogWydPdmVyYWxsJywnVVMnLCdFdXJvcGUnXSwKICAgICAgcmVnaW9uc19zaG9ydDogeydPdmVyYWxsJzogJ09WRVJBTEwnLCdVUyc6ICdVUycsJ0V1cm9wZSc6J0VVJ30sCiAgICAgIHNlY3RvcnNfc2hvcnQ6IHsiQ29tbXVuaWNhdGlvbnMiOiAiQ09NTVMiLAogICAgICAgICJDb25zdW1lcl9EaXNyZWN0aW9uYXJ5IjogIkRJU0MuIiwKICAgICAgICAiQ29uc3VtZXJfU3RhcGxlcyI6ICJTVEFQTEVTIiwKICAgICAgICAiRW5lcmd5X1JlbmV3YWJsZXMiOiAiRU5FUkdZIiwKICAgICAgICAiRmluYW5jaWFscyI6ICJGSU5BTkNJQUxTIiwKICAgICAgICAiSGVhbHRoX0NhcmUiOiAiSEVBTFRIIiwKICAgICAgICAiSW5mb3JtYXRpb25fVGVjaG5vbG9neSI6ICJURUNIIiwKICAgICAgICAiSW5kdXN0cmlhbHMiOiAiSU5EVVNUUlkiLAogICAgICAgICJVdGlsaXRpZXMiOiAiVVRJTElUSUVTIiwKICAgICAgICAiT3RoZXIiOiAiT1RIRVIifSwKICAgICAgICBiYWNrZ3JvdW5kX21hY3JvOiB7CiAgICAgICAgICAgIEJPTkQ6IiNBRDNCM0IiLAogICAgICAgICAgICAiRlh8Q09NTU9ESVRZIjoiIzg2QUQzQiIsCiAgICAgICAgICAgIElOREVYOiIjM0JBOUFEIiwKICAgICAgICAgICAgTUVUUklDOiIjNzQzQkFEIiwKICAgICAgICAgICAgQ09NTU9ESVRJVFk6IiNBRDNCQTAiLAogICAgICAgICAgICBTVVJWRVk6IiMzQjUxQUQiCiAgICAgICAgfSwKICAgICAgICBoaWdobGlnaHRfbWFjcm86IHsKICAgICAgICAgICAgQk9ORDoiI0U1NTE1MSIsCiAgICAgICAgICAgICJGWHxDT01NT0RJVFkiOiIjQTdENjRCIiwKICAgICAgICAgICAgSU5ERVg6IiM0Q0NFRDMiLAogICAgICAgICAgICBNRVRSSUM6IiNCNDdDRUIiLAogICAgICAgICAgICBDT01NT0RJVElUWToiI0FEM0JBMCIsCiAgICAgICAgICAgIFNVUlZFWToiIzZCODRFQiIKICAgICAgICB9LAogICAgICAgIGhpZ2hsaWdodF9lcXVpdGllczogewogICAgICAgICAgIkNPTU1VTklDQVRJT05TIjogIiNFNTUxNTEiLAogICAgICAgICAgIkNPTlNVTUVSIERJU1JFQ1RJT05BUlkiOiAiI0E3RDY0QiIsCiAgICAgICAgICAiQ09OU1VNRVIgU1RBUExFUyI6ICIjNENDRUQzIiwKICAgICAgICAgICJFTkVSR1kgUkVORVdBQkxFUyI6ICIjQjQ3Q0VCIiwKICAgICAgICAgICJGSU5BTkNJQUxTIjogIiNBRDNCQTAiLAogICAgICAgICAgIkhFQUxUSCBDQVJFIjogIiM2Qjg0RUIiLAoKICAgICAgICAgICJJTkZPUk1BVElPTiBURUNITk9MT0dZIjogIiNFNUFDNTEiLAogICAgICAgICAgIklORFVTVFJJQUxTIjogIiM0QkQ2QTYiLAogICAgICAgICAgIlVUSUxJVElFUyI6ICIjRUZBREVGIiwKICAgICAgICAgICJPVEhFUiI6ICIjQjQ3Q0VCIgogICAgICAgIH0sCiAgICAgICAgYmFja2dyb3VuZF9lcXVpdGllczogewogICAgICAgICAgIkNPTU1VTklDQVRJT05TIjogIiNBRDNCM0IiLAogICAgICAgICAgIkNPTlNVTUVSIERJU1JFQ1RJT05BUlkiOiAiIzg2QUQzQiIsCiAgICAgICAgICAiQ09OU1VNRVIgU1RBUExFUyI6ICIjM0JBOUFEIiwKICAgICAgICAgICJFTkVSR1kgUkVORVdBQkxFUyI6ICIjNzQzQkFEIiwKICAgICAgICAgICJGSU5BTkNJQUxTIjogIiNBRDNCQTAiLAogICAgICAgICAgIkhFQUxUSCBDQVJFIjogIiMzQjUxQUQiLAoKICAgICAgICAgICJJTkZPUk1BVElPTiBURUNITk9MT0dZIjogIiNBRDhBM0IiLAogICAgICAgICAgIklORFVTVFJJQUxTIjogIiMzQkFENzAiLAogICAgICAgICAgIlVUSUxJVElFUyI6ICIjQzkwNEFCIiwKICAgICAgICAgICJPVEhFUiI6ICIjNzQzQkFEIgogICAgICAgIH0sCiAgICAgICAgc2hvcnRfZXF1aXRpZXM6IHsKICAgICAgICAgICJDT01NVU5JQ0FUSU9OUyI6ICJDT01NUyIsCiAgICAgICAgICAiQ09OU1VNRVIgRElTUkVDVElPTkFSWSI6ICJESVNDLiIsCiAgICAgICAgICAiQ09OU1VNRVIgU1RBUExFUyI6ICJTVEFQTEVTIiwKICAgICAgICAgICJFTkVSR1kgUkVORVdBQkxFUyI6ICJFTkVSR1kiLAogICAgICAgICAgIkZJTkFOQ0lBTFMiOiAiRklOQU5DSUFMUyIsCiAgICAgICAgICAiSEVBTFRIIENBUkUiOiAiSEVBTFRIQ0FSRSIsCgogICAgICAgICAgIklORk9STUFUSU9OIFRFQ0hOT0xPR1kiOiAiVEVDSCIsCiAgICAgICAgICAiSU5EVVNUUklBTFMiOiAiSU5EVVNUUklBTFMiLAogICAgICAgICAgIlVUSUxJVElFUyI6ICJVVElMSVRJRVMiLAogICAgICAgICAgIk9USEVSIjogIk9USEVSIgogICAgICAgIH0sCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByb3VuZFRvVHdvOiBmdW5jdGlvbihudW0pIHsgICAgCiAgICAgIHJldHVybiArKE1hdGgucm91bmQobnVtICsgImUrMiIpICArICJlLTIiKTsKICAgIH0sCiAgICBnZXRQY3RBdHRyaWJ1dGlvblJhZGl1czogZnVuY3Rpb24ocl91bnNjYWxlZCwgcmVnaW9uc19kYXRhKSB7CiAgICAgICAgLy8gR2V0cyB0aGUgbWF4aW11bSB2YWx1ZSBmb3IgdGhlIHJlZ2lvbgogICAgICAgIC8vIFRoaXMgd2lsbCBiZSBlcXVpdmFsZW50IHRvIDUwJSByYWRpdXMKICAgICAgICAvLyB0aGlzLnJpc2suYXR0cmlidXRpb24ucmVnaW9ucwogICAgICAgIGxldCByZWdpb25fdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhyZWdpb25zX2RhdGEpCiAgICAgICAgCiAgICAgICAgbGV0IHZhbHMgPSByZWdpb25fdmFsdWVzLm1hcCh5ID0+IHRoaXMuZWZmZWN0cy5tYXAoa2V5ID0+IHlba2V5XSkpLmZsYXQoKQogICAgICAgIGxldCBtYXhfdmFsID0gTWF0aC5tYXgoLi4udmFscykKICAgICAgICAKICAgICAgICBsZXQgcmVsYXRpdmVfc2l6ZSA9IHJfdW5zY2FsZWQgLyBtYXhfdmFsCiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHJlbGF0aXZlX3NpemUgKiAzMCkgKyAiJSIKICAgIH0sCiAgICBnZXRBdHRyaWJ1dGlvbkdyYWQ6IGZ1bmN0aW9uKHJfdW5zY2FsZWQpIHsKICAgICAgaWYocl91bnNjYWxlZCA+PSAwKSB7CiAgICAgICAgcmV0dXJuICd1cmwoI2dyYWRQb3MpJwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAndXJsKCNncmFkTmVnKScKICAgICAgfQogICAgfSwKICAgIGdldEF0dHJpYnV0aW9uQ29sb3I6IGZ1bmN0aW9uKHJfdW5zY2FsZWQpIHsKICAgICAgaWYocl91bnNjYWxlZCA+PSAwKSB7CiAgICAgICAgcmV0dXJuICcjODZBRDNCJwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnI0FEM0IzQicKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgICAgICAKICAgICAgICBsZXQgcGF0aF9jaGFydCA9ICcuL2NoYXJ0X2RhdGEnCiAgICAgICAgCiAgICAgICAgaWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHsKICAgICAgICAgIHBhdGhfY2hhcnQgPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2NoYXJ0X2RhdGEnOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBheGlvcy5nZXQocGF0aF9jaGFydCkKICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlJlY2lldmVkIGRhdGEuLi4iKQogICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmRhdGEKCiAgICAgICAgICAgICAgICB2YXIgcGFyc2VEYXRlID0gZDMudGltZVBhcnNlKCIlWS0lbS0lZCIpOwoKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZGF0YSkuZm9yRWFjaCgoa2V5KSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVtrZXldLmZvckVhY2goZnVuY3Rpb24oZCkgewogICAgICAgICAgICAgICAgICAgIGQuZGF0ZSA9IHBhcnNlRGF0ZShkLmRhdGUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUmVjaWV2ZWQgZGF0YS4uLiIpCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9KTsgCgogICAgICAgIAogICAgICAgIGxldCBwYXRoX3Jpc2sgPSAnLi9yaXNrX2RhdGEnCgogICAgICAgIGlmKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7CiAgICAgICAgICBwYXRoX3Jpc2sgPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL3Jpc2tfZGF0YSc7CiAgICAgICAgfQogICAgICAgIGF4aW9zLmdldChwYXRoX3Jpc2spCiAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWNpZXZlZCBkYXRhLi4uIikKICAgICAgICAgICAgICAgIHRoaXMucmlzayA9IHJlcy5kYXRhCgogICAgICAgICAgICAgICAgdmFyIHBhcnNlRGF0ZSA9IGQzLnRpbWVQYXJzZSgiJVktJW0tJWQiKTsKCiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnJpc2suZXF1aXRpZXMpLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLnJpc2suZXF1aXRpZXNba2V5XS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICBkLmRhdGUgPSBwYXJzZURhdGUoZC5kYXRlKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdfcmlzayA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0pOyAKICAgIH0sCn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div id='banner' class='padded'>\n      <img src='./assets/SMF_A_plain@3x.png'>   \n      <img src='./assets/hugo_dolan_analytics.png'>        \n    </div>\n    <div class=\"macro-bg\">\n      <div id='chart-header'>\n          <h1>\n          Macro Overview\n          </h1>\n      </div> \n      <div v-if=\"!loading\" id='chart-container'>\n        \n        <div v-for=\"key in Object.keys(data)\" :key=\"key\">\n          <LineChart class='chart' v-bind:category='key.split(\"_\")[0]' v-bind:title='key.split(\"_\").slice(1,).join(\" \")' v-bind:data='data[key]' :background=\"background_macro\" :highlight=\"highlight_macro\" :month_tick_interval=\"4\"></LineChart>\n        </div>\n      </div>\n    </div>\n\n    <div class='macro-bg'>\n      <div id='chart-header'>\n        <h1>\n          Risk Dashboard  \n        </h1> \n      </div>\n\n      <div v-if=\"!loading_risk\"  class='padded'>\n        <div id='port-stats'>\n            <h2>PORTFOLIO STATISTICS</h2>\n            <div id='port-stats-data'>\n              <div class='port-stat'>\n                <div class='port-stat-name'>RETURN</div>\n                <div class='port-stat-value'>{{risk.attribution.regions.Overall['Portfolio Total Return']}} %</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>EXCESS RETURN</div>\n                <div class='port-stat-value'>{{risk.attribution.regions.Overall['Total Effect']}} %</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>EUROPE WEIGHT</div>\n                <div class='port-stat-value'>{{roundToTwo(risk.weightings.region_weights.EU * 100)}} %</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>US WEIGHT</div>\n                <div class='port-stat-value'>{{roundToTwo(risk.weightings.region_weights.US * 100)}} %</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>ALPHA</div>\n                <div class='port-stat-value'>{{risk.portfolio_summary_stats.alpha}}</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>BETA</div>\n                <div class='port-stat-value'>{{risk.portfolio_summary_stats.beta}}</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>SHARPE</div>\n                <div class='port-stat-value'>{{risk.portfolio_summary_stats.sharpe}}</div>\n              </div>\n              <div class='port-stat'>\n                <div class='port-stat-name'>TRACKING ERROR</div>\n                <div class='port-stat-value'>{{risk.portfolio_summary_stats.tracking_error_pct}} %</div>\n              </div>\n            </div>\n          </div>\n        <div class='dash-panel'>\n          \n\n          <div id='port-attribution-panel'>\n            <h2>RETURN ATTRIBUTION OVERVIEW</h2>\n            <div id='attr-data'>\n              <div class='attr-stat'>\n                <h3 class='attr-stat-head'>\n                  <span style=\"color:#FF1414;\"><br></span><br>\n                  <span style=\"color:#ffffff90;\"></span></h3>\n                <div class='attr-stat-box-label' v-for=\"effect in effects\" :key='effect'>\n                  <svg width='100%' height='100%'>\n                    <rect width='100%' height=\"100%\" fill='#A84E4E70'></rect>\n                    <!-- <circle :r=\"getPctAttributionRadius(r_data[effect])\" :fill=\"getAttributionColor(r_data[effect])\" cx='50%' cy='50%'></circle> -->\n                    <text fill='#FF1414' font-size=\"14\" text-anchor='middle' transform=\"translate(20,60) rotate(270 0 0)\">{{effects_map[effect]}}</text>\n                  </svg>\n                </div>\n              </div>\n              <div class='attr-stat border-left' v-for=\"[region, r_data] in regions.map(r => [r, risk.attribution.regions[r]])\" :key=\"region\">\n                <h3 class='attr-stat-head'>\n                  <span style=\"color:#92cbf1;\">{{r_data['Benchmark Total Return']}}% RETURN</span><br>\n                  <span style=\"color:#ffffff90;\">{{regions_short[region]}} INDEX</span>\n                </h3>\n                <div class='attr-stat-box' v-for=\"effect in effects\" :key='effect'>\n                  <svg width='100%' height='100%'>\n                    <defs>\n                      <linearGradient id=\"gradPos\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                        <stop offset=\"0%\" style=\"stop-color:#86AD3B;stop-opacity:1\" />\n                        <stop offset=\"100%\" style=\"stop-color:#A7D64B;stop-opacity:0.3\" />\n                      </linearGradient>\n                      <linearGradient id=\"gradNeg\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                        <stop offset=\"0%\" style=\"stop-color:#AD3B3B;stop-opacity:1\" />\n                        <stop offset=\"100%\" style=\"stop-color:#E55151;stop-opacity:0.3\" />\n                      </linearGradient>\n                    </defs>\n                    <circle :r=\"getPctAttributionRadius(r_data[effect], risk.attribution.regions)\" :fill=\"getAttributionGrad(r_data[effect])\" cx='50%' cy='50%'></circle>\n                    <text x='4%' y='96%' fill='#ffffff90' text-anchor='right' dominant-baseline='top'>{{r_data[effect]}}%</text>\n                  </svg>\n                </div>\n                <h3 class='attr-stat-head'>\n                  <span :style=\"{color:getAttributionColor(r_data['Portfolio Total Return'])}\">{{r_data['Portfolio Total Return']}}% RETURN</span><br>\n                  <span style=\"color:#fff\">{{regions_short[region]}} PORTFOLIO</span>\n                </h3>\n              </div>\n            </div>\n          </div>  \n\n          <div id='port-attribution-panel'>\n            <h2>PORTFOLIO WEIGHTING BREAKDOWN</h2>\n            <tree-chart id='port-sector-weights' v-bind:data='risk.weightings' :background=\"background_equities\" :highlight=\"highlight_equities\" :short_category=\"short_equities\"></tree-chart>\n          </div>\n        </div>\n        \n\n        <div class=\"macro-bg\">\n          <h2>Equity Charts</h2>\n          <div v-if=\"!loading_risk\" id='chart-container'>\n            \n            <div v-for=\"key in Object.keys(risk.equities)\" :key=\"key\">\n              <LineChart class='chart' v-bind:category='key.split(\"_\")[0]' v-bind:title='key.split(\"_\").slice(1,).join(\" \")' v-bind:data='risk.equities[key]' :background=\"background_equities\" :highlight=\"highlight_equities\" :month_tick_interval=\"1\" :show_pct=\"true\" :short_category=\"short_equities\"></LineChart>\n            </div>\n          </div>\n        </div>\n\n        <!-- <div class=\"macro-bg\">\n          <h2>CORRELATIONS PORT V BENCHMARK</h2>\n          <correlation-plot :data='risk.correlations.portfolio_v_port' :short_category=\"sectors_short\"></correlation-plot>\n        </div> -->\n\n        <div id='port-attribution-panel' v-for=\"[region, r_data] in Object.entries(risk.attribution.sectors)\" :key=\"region\">\n            <h2>{{regions_short[region]}} SECTOR ATTRIBUTION SCORING</h2>\n            <div id='attr-data'>\n              <div class='attr-stat'>\n                <h3 class='attr-stat-head'>\n                  <span style=\"color:#FF1414;\"><br></span><br>\n                  <span style=\"color:#ffffff90;\"></span></h3>\n                <div class='attr-stat-box-label' v-for=\"effect in effects\" :key='effect'>\n                  <svg width='100%' height='100%'>\n                    <rect width='100%' height=\"100%\" fill='#A84E4E70'></rect>\n                    <!-- <circle :r=\"getPctAttributionRadius(r_data[effect])\" :fill=\"getAttributionColor(r_data[effect])\" cx='50%' cy='50%'></circle> -->\n                    <text fill='#FF1414' font-size=\"14\" text-anchor='middle' transform=\"translate(20,60) rotate(270 0 0)\">{{effects_map[effect]}}</text>\n                  </svg>\n                </div>\n              </div>\n              <div class='attr-stat border-left' v-for=\"[sector, s_data] in Object.entries(r_data)\" :key=\"sector\">\n                <h3 class='attr-stat-head'>\n                  <span style=\"color:#92cbf1;\">{{s_data['Benchmark Total Return']}}% RETURN</span><br>\n                  <span style=\"color:#ffffff90;\">{{sectors_short[sector]}} INDEX</span>\n                </h3>\n                <div class='attr-stat-box' v-for=\"effect in effects\" :key='effect'>\n                  <svg width='100%' height='100%'>\n                    <defs>\n                      <linearGradient id=\"gradPos\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                        <stop offset=\"0%\" style=\"stop-color:#86AD3B;stop-opacity:1\" />\n                        <stop offset=\"100%\" style=\"stop-color:#A7D64B;stop-opacity:0.3\" />\n                      </linearGradient>\n                      <linearGradient id=\"gradNeg\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                        <stop offset=\"0%\" style=\"stop-color:#AD3B3B;stop-opacity:1\" />\n                        <stop offset=\"100%\" style=\"stop-color:#E55151;stop-opacity:0.3\" />\n                      </linearGradient>\n                    </defs>\n                    <circle :r=\"getPctAttributionRadius(s_data[effect], r_data)\" :fill=\"getAttributionGrad(s_data[effect])\" cx='50%' cy='50%'></circle>\n                    <text x='4%' y='96%' fill='#ffffff90' text-anchor='right' dominant-baseline='top'>{{s_data[effect]}}%</text>\n                  </svg>\n                </div>\n                <h3 class='attr-stat-head'>\n                  <span :style=\"{color:getAttributionColor(s_data['Portfolio Total Return'])}\">{{s_data['Portfolio Total Return']}}% RETURN</span><br>\n                  <span style=\"color:#fff\">{{sectors_short[sector]}} PORTFOLIO</span>\n                </h3>\n              </div>\n            </div>\n          </div> \n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LineChart from \"./components/LineChart.vue\";\nimport TreeChart from \"./components/TreeChart.vue\";\nimport CorrelationPlot from \"./components/CorrelationPlot.vue\";\nimport axios from 'axios';\nimport * as d3 from \"d3\";\n\nexport default {\n  name: \"App\",\n  components: {\n    LineChart,\n    TreeChart,\n    CorrelationPlot\n  },\n  data() {\n    return {\n      data: {},\n      loading: true,\n      risk: {},\n      loading_risk: true,\n      effects: ['Selection Effect','Allocation Effect','Total Effect'],\n      effects_map: {'Selection Effect':'Selection Effect','Allocation Effect':'Allocation Effect','Total Effect':'Outperformance'},\n      regions: ['Overall','US','Europe'],\n      regions_short: {'Overall': 'OVERALL','US': 'US','Europe':'EU'},\n      sectors_short: {\"Communications\": \"COMMS\",\n        \"Consumer_Disrectionary\": \"DISC.\",\n        \"Consumer_Staples\": \"STAPLES\",\n        \"Energy_Renewables\": \"ENERGY\",\n        \"Financials\": \"FINANCIALS\",\n        \"Health_Care\": \"HEALTH\",\n        \"Information_Technology\": \"TECH\",\n        \"Industrials\": \"INDUSTRY\",\n        \"Utilities\": \"UTILITIES\",\n        \"Other\": \"OTHER\"},\n        background_macro: {\n            BOND:\"#AD3B3B\",\n            \"FX|COMMODITY\":\"#86AD3B\",\n            INDEX:\"#3BA9AD\",\n            METRIC:\"#743BAD\",\n            COMMODITITY:\"#AD3BA0\",\n            SURVEY:\"#3B51AD\"\n        },\n        highlight_macro: {\n            BOND:\"#E55151\",\n            \"FX|COMMODITY\":\"#A7D64B\",\n            INDEX:\"#4CCED3\",\n            METRIC:\"#B47CEB\",\n            COMMODITITY:\"#AD3BA0\",\n            SURVEY:\"#6B84EB\"\n        },\n        highlight_equities: {\n          \"COMMUNICATIONS\": \"#E55151\",\n          \"CONSUMER DISRECTIONARY\": \"#A7D64B\",\n          \"CONSUMER STAPLES\": \"#4CCED3\",\n          \"ENERGY RENEWABLES\": \"#B47CEB\",\n          \"FINANCIALS\": \"#AD3BA0\",\n          \"HEALTH CARE\": \"#6B84EB\",\n\n          \"INFORMATION TECHNOLOGY\": \"#E5AC51\",\n          \"INDUSTRIALS\": \"#4BD6A6\",\n          \"UTILITIES\": \"#EFADEF\",\n          \"OTHER\": \"#B47CEB\"\n        },\n        background_equities: {\n          \"COMMUNICATIONS\": \"#AD3B3B\",\n          \"CONSUMER DISRECTIONARY\": \"#86AD3B\",\n          \"CONSUMER STAPLES\": \"#3BA9AD\",\n          \"ENERGY RENEWABLES\": \"#743BAD\",\n          \"FINANCIALS\": \"#AD3BA0\",\n          \"HEALTH CARE\": \"#3B51AD\",\n\n          \"INFORMATION TECHNOLOGY\": \"#AD8A3B\",\n          \"INDUSTRIALS\": \"#3BAD70\",\n          \"UTILITIES\": \"#C904AB\",\n          \"OTHER\": \"#743BAD\"\n        },\n        short_equities: {\n          \"COMMUNICATIONS\": \"COMMS\",\n          \"CONSUMER DISRECTIONARY\": \"DISC.\",\n          \"CONSUMER STAPLES\": \"STAPLES\",\n          \"ENERGY RENEWABLES\": \"ENERGY\",\n          \"FINANCIALS\": \"FINANCIALS\",\n          \"HEALTH CARE\": \"HEALTHCARE\",\n\n          \"INFORMATION TECHNOLOGY\": \"TECH\",\n          \"INDUSTRIALS\": \"INDUSTRIALS\",\n          \"UTILITIES\": \"UTILITIES\",\n          \"OTHER\": \"OTHER\"\n        },\n    }\n  },\n  methods: {\n    roundToTwo: function(num) {    \n      return +(Math.round(num + \"e+2\")  + \"e-2\");\n    },\n    getPctAttributionRadius: function(r_unscaled, regions_data) {\n        // Gets the maximum value for the region\n        // This will be equivalent to 50% radius\n        // this.risk.attribution.regions\n        let region_values = Object.values(regions_data)\n        \n        let vals = region_values.map(y => this.effects.map(key => y[key])).flat()\n        let max_val = Math.max(...vals)\n        \n        let relative_size = r_unscaled / max_val\n        return Math.abs(relative_size * 30) + \"%\"\n    },\n    getAttributionGrad: function(r_unscaled) {\n      if(r_unscaled >= 0) {\n        return 'url(#gradPos)'\n      } else {\n        return 'url(#gradNeg)'\n      }\n    },\n    getAttributionColor: function(r_unscaled) {\n      if(r_unscaled >= 0) {\n        return '#86AD3B'\n      } else {\n        return '#AD3B3B'\n      }\n    }\n  },\n  created() {\n        \n        let path_chart = './chart_data'\n        \n        if(process.env.NODE_ENV === 'development') {\n          path_chart = 'http://localhost:5000/chart_data';\n        }\n        \n        axios.get(path_chart)\n            .then((res) => {\n                console.log(\"Recieved data...\")\n                this.data = res.data\n\n                var parseDate = d3.timeParse(\"%Y-%m-%d\");\n\n                Object.keys(this.data).forEach((key) => {\n                  this.data[key].forEach(function(d) {\n                    d.date = parseDate(d.date);\n                  });\n                });\n                \n                console.log(\"Recieved data...\")\n                this.loading = false\n            })\n            .catch((error) => {\n                // eslint-disable-next-line\n                console.error(error);\n            }); \n\n        \n        let path_risk = './risk_data'\n\n        if(process.env.NODE_ENV === 'development') {\n          path_risk = 'http://localhost:5000/risk_data';\n        }\n        axios.get(path_risk)\n            .then((res) => {\n                console.log(\"Recieved data...\")\n                this.risk = res.data\n\n                var parseDate = d3.timeParse(\"%Y-%m-%d\");\n\n                Object.keys(this.risk.equities).forEach((key) => {\n                  this.risk.equities[key].forEach(function(d) {\n                    d.date = parseDate(d.date);\n                  });\n                });\n\n                this.loading_risk = false\n            })\n            .catch((error) => {\n                // eslint-disable-next-line\n                console.error(error);\n            }); \n    },\n};\n</script>\n\n<style>\n  body {\n    background-color: #f7f7f7; \n    padding: 0;\n    padding-bottom: 60px;\n    margin: 0;\n    background-image: linear-gradient(#380404,#380404);\n  }\n\n  h1 {\n      color: white;\n      font-family: Roboto;\n      font-size: 10px;\n      text-align: left;\n      padding-left: 10px;\n      padding-bottom: 5px;\n      padding-top: 5px;\n      margin-top:0px;\n      margin-bottom: 0px;\n      background: none;\n  }\n\n  #banner {\n      position: fixed;\n      bottom:0;\n      background: #1e0204db;\n      width: 100%;\n      height: 65px;\n      /* border-bottom: 6px solid #fc6368; */\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      \n  }\n\n  .padded {\n      padding: 16px;\n      box-sizing: border-box;\n  }\n\n  #banner img {\n      height: 30px;\n      margin: 0 2%;\n  }\n\n\n  #app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n  }\n\n  #chart-header {\n      align-self: right;\n  }\n\n  #chart-header h1 {\n      color: white;\n      font-family: Roboto;\n      font-size: 30px;\n      text-align: left;\n      background: rgba(4, 0, 1, 0.247);\n      width: 100%;\n      margin: 10px auto;\n      margin-bottom: 0px;\n      padding: 20px 30px;\n  }\n\n  #chart-container {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      align-content: center;\n      justify-content: center;\n  }\n\n  .chart {\n    margin: 8px;\n  }\n\n  table {\n      width: 100%;\n      text-align: center;\n      font-family: 'Libre Baskerville', serif;\n      font-size: 9pt;\n      border-spacing: 0;\n  }\n\n  table th {\n      font-weight: 700;\n      border-top: 2px solid #333334;\n      border-bottom: 2px solid #333334;\n      padding-top: 8px;\n      padding-bottom: 8px;\n  }\n\n  table td {\n      font-weight: 400;\n      padding-bottom: 4px;\n      padding-top: 4px;\n  }\n\n  table tr:nth-child(even) {\n      background-color: #f2f2f2;\n  }\n\n  .macro-bg {\n    background-image: url(\"./assets/bg_low_alpha.png\");\n    background-size: fit;\n  }\n\n  .dash-panel {\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n  }\n\n  #port-attribution-panel {\n    max-width: 100%;\n    margin-bottom: 20px;\n  }\n\n  #attr-data {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    padding: 10px 20px;\n  }\n\n  .attr-stat {\n    display: flex;\n    flex-direction: column;\n\n  }\n\n  .border-left {\n    margin-right: 8px;\n    /* border-right: 2px solid #A84E4E30; */\n  }\n\n  .attr-stat-box-label {\n    width: 30px;\n    height: 120px;\n    font-family: 'Roboto', sans-serif;\n    font-weight: 300;\n    margin: 9px 8px;\n    display: flex;\n    flex-direction: column;\n    align-content: center;\n    justify-content: center;\n  }\n\n  .attr-stat-box {\n    width: 120px;\n    height: 120px;\n    font-family: 'Roboto', sans-serif;\n    color: white;\n    font-weight: 300;\n    border: 1px solid #ffffff30;\n    margin: 8px;\n    display: flex;\n    flex-direction: column;\n    align-content: center;\n    justify-content: center;\n  }\n\n  .attr-stat-head {\n    font-family: 'Roboto', sans-serif;\n    color: white;\n    font-size: 12px;\n    text-align: left;\n    margin: 4px 12px;\n  }\n\n  #port-stats {\n    width: 100%;\n    background-image: linear-gradient(#0A174F30,#0d1d5f50);\n    padding: 0 10px;\n    box-sizing: border-box;\n  }\n\n  h2 {\n    font-family: 'Roboto', sans-serif;\n    font-size: 18px;\n    color: #92cbf1;\n    padding: 16px;\n    margin-top: 0px;\n    text-align: left;\n    border-bottom: 1px solid rgb(13, 86, 170);\n    margin-bottom: 5px;\n  }\n\n  #port-stats-data {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding-bottom: 16px;\n    box-sizing: border-box;\n  }\n\n  .port-stat {\n    font-family: 'Roboto', sans-serif;;\n    width: 90%;\n    background: #A84E4E70;\n    display: flex;\n    padding: 8px 8px;\n    font-size: 10px;\n    box-sizing: border-box;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 0px 4px;\n  }\n\n  .port-stat-name {\n    color: #FF1414;\n    font-weight: 700;\n  }\n\n  .port-stat-value {\n    color: white;\n    font-weight: 300;\n  }\n</style>\n"]}]}